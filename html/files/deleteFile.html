<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Eliminar archivos por nombre</title>
</head>
<body>
    <h1>DELETE:</h1>
    <form id="deleteForm">
        <input id="fileNameInput" name="fileName" type="text" placeholder="Nombre del archivo a eliminar" />
        <button type="submit">Eliminar archivo</button>
    </form>

    <h5><a href="/redirectionToHome">Volver</a></h5>

    <script>
        document.getElementById('deleteForm').addEventListener('submit', function(event) {
            event.preventDefault(); 

            var fileName = document.getElementById('fileNameInput').value.trim();

            if (fileName !== '') {
                var xhr = new XMLHttpRequest();
                xhr.open('DELETE', '/deleteFile/delete/' + encodeURIComponent(fileName), true);
                xhr.setRequestHeader('Content-Type', 'application/json');

                xhr.onload = function() {
                    if (xhr.status === 200) {
                        alert('Archivo eliminado correctamente.');
                    } else {
                        alert('Hubo un error al intentar eliminar el archivo.');
                    }
                };

                xhr.send();
            } else {
                alert('Por favor ingrese el nombre del archivo a eliminar.');
            }
        });
    </script>
</body>
</html>
